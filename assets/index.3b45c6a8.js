var _=Object.defineProperty;var y=(e,o,l)=>o in e?_(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l;var c=(e,o,l)=>(y(e,typeof o!="symbol"?o+"":o,l),l);const C=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=l(t);fetch(t.href,s)}};C();let d=[];const b=e=>{e.state="paused",e.setup=function(){e.createCanvas(800,300),e.windowResized()},e.windowResized=function(){const t=document.getElementById("p5-container").clientWidth,s=document.getElementById("p5-container").clientHeight;e.resizeCanvas(t,s)},e.draw=function(){e.background(54,165,183),e.state==="paused"?(e.bb=new o(90),e.bb.display()):(e.pb=new l(40,25,25),e.pb.display());for(let t=d.length-1;t>=0;t--)d[t].isDead()?d.splice(t,1):(d[t].grow(),d[t].display())},e.mousePressed=()=>{if(e.state==="playing"){const t=new n(e.mouseX,e.mouseY);d.push(t);const s=new Event("clickCanvas");e._userNode.dispatchEvent(s)}if(e.state==="paused"&&e.bb&&e.bb.isHovered()){const t=new Event("clickPlay");e._userNode.dispatchEvent(t),e.state="playing"}if(e.state!=="paused"&&e.pb&&e.pb.isHovered()){const t=new Event("clickPause");e._userNode.dispatchEvent(t),e.state="paused"}},e.addDecayParticle=()=>{const t=new n(e.random(e.width),e.random(e.height));d.push(t)},e.pause=()=>{e.state="paused"};class o{constructor(s){this.size=s,this.xpos=e.width/2,this.ypos=e.height/2}isHovered(){const s=this.size/2;return e.mouseX>this.xpos-s&&e.mouseX<this.xpos+s&&e.mouseY>this.ypos-s&&e.mouseY<this.ypos+s}display(){const s=this.isHovered(),a=s?200:80;let i=e.color(255,255,255,a);e.fill(i);let r=e.color(255,255,255);e.stroke(r),e.rectMode(e.CENTER),e.rect(this.xpos,this.ypos,this.size,this.size,20);const v=s?150:50;i=e.color(0,0,0,v),e.fill(i),e.triangle(this.xpos-this.size*.3,this.ypos-this.size*.3,this.xpos-this.size*.3,this.ypos+this.size*.3,this.xpos+this.size*.3,this.ypos)}}class l{constructor(s,a,i){this.size=s,this.xpos=a,this.ypos=i}isHovered(){const s=this.size/2;return e.mouseX>this.xpos-s&&e.mouseX<this.xpos+s&&e.mouseY>this.ypos-s&&e.mouseY<this.ypos+s}display(){const s=this.isHovered(),a=s?200:80;let i=e.color(255,255,255,a);e.fill(i);let r=e.color(255,255,255);e.stroke(r),e.rectMode(e.CENTER),e.rect(this.xpos,this.ypos,this.size,this.size,5);const v=s?150:50;i=e.color(0,0,0,v),e.fill(i),e.stroke(i),e.rect(this.xpos-this.size*.2,this.ypos+this.size*0,this.size*.25,this.size*.5),e.rect(this.xpos+this.size*.2,this.ypos+this.size*0,this.size*.25,this.size*.5)}}class n{constructor(s,a){this.x=s,this.y=a,this.diameter=1,this.lifespan=255}grow(){this.diameter=this.diameter+4,this.lifespan=this.lifespan-5}isDead(){return this.lifespan<=0}display(){e.fill(255,this.lifespan/1.5),e.stroke(255,this.lifespan/.1),e.ellipse(this.x,this.y,this.diameter,this.diameter)}}};class P{constructor(){c(this,"SAMPLE_LIBRARY",{"Grand Piano":[{note:"A",octave:4,file:"samples/Grand Piano/piano-f-a4.wav"},{note:"A",octave:5,file:"samples/Grand Piano/piano-f-a5.wav"},{note:"A",octave:6,file:"samples/Grand Piano/piano-f-a6.wav"},{note:"C",octave:4,file:"samples/Grand Piano/piano-f-c4.wav"},{note:"C",octave:5,file:"samples/Grand Piano/piano-f-c5.wav"},{note:"C",octave:6,file:"samples/Grand Piano/piano-f-c6.wav"},{note:"D#",octave:4,file:"samples/Grand Piano/piano-f-d#4.wav"},{note:"D#",octave:5,file:"samples/Grand Piano/piano-f-d#5.wav"},{note:"D#",octave:6,file:"samples/Grand Piano/piano-f-d#6.wav"},{note:"F#",octave:4,file:"samples/Grand Piano/piano-f-f#4.wav"},{note:"F#",octave:5,file:"samples/Grand Piano/piano-f-f#5.wav"},{note:"F#",octave:6,file:"samples/Grand Piano/piano-f-f#6.wav"}],"Chorus female":[{note:"A",octave:4,file:"samples/Chorus/chorus-female-a4-PB-loop.wav"},{note:"A#",octave:4,file:"samples/Chorus/chorus-female-a#4-PB-loop.wav"},{note:"A",octave:5,file:"samples/Chorus/chorus-female-a5-PB-loop.wav"},{note:"A#",octave:5,file:"samples/Chorus/chorus-female-a#5-PB-loop.wav"},{note:"B",octave:4,file:"samples/Chorus/chorus-female-b4-PB-loop.wav"},{note:"B",octave:5,file:"samples/Chorus/chorus-female-b5-PB-loop.wav"},{note:"C",octave:5,file:"samples/Chorus/chorus-female-c5-PB-loop.wav"},{note:"C#",octave:5,file:"samples/Chorus/chorus-female-c#5-PB-loop.wav"},{note:"C",octave:6,file:"samples/Chorus/chorus-female-c6-PB-loop.wav"},{note:"D",octave:5,file:"samples/Chorus/chorus-female-d5-PB-loop.wav"},{note:"D#",octave:5,file:"samples/Chorus/chorus-female-d#5-PB-loop.wav"},{note:"E",octave:5,file:"samples/Chorus/chorus-female-e5-PB-loop.wav"},{note:"F",octave:5,file:"samples/Chorus/chorus-female-f5-PB-loop.wav"},{note:"F#",octave:5,file:"samples/Chorus/chorus-female-f#5-PB-loop.wav"},{note:"G",octave:4,file:"samples/Chorus/chorus-female-g4-PB-loop.wav"},{note:"G",octave:5,file:"samples/Chorus/chorus-female-g5-PB-loop.wav"},{note:"G#",octave:4,file:"samples/Chorus/chorus-female-g#4-PB-loop.wav"},{note:"G#",octave:5,file:"samples/Chorus/chorus-female-g#5-PB-loop.wav"}],"Chorus male":[{note:"A",octave:2,file:"samples/Chorus/chorus-male-a2-PB-loop.wav"},{note:"A#",octave:2,file:"samples/Chorus/chorus-male-a#2-PB-loop.wav"},{note:"A",octave:3,file:"samples/Chorus/chorus-male-a3-PB-loop.wav"},{note:"A#",octave:3,file:"samples/Chorus/chorus-male-a#3-PB-loop.wav"},{note:"B",octave:2,file:"samples/Chorus/chorus-male-b2-PB-loop.wav"},{note:"B",octave:3,file:"samples/Chorus/chorus-male-b3-PB-loop.wav"},{note:"C",octave:3,file:"samples/Chorus/chorus-male-c3-PB-loop.wav"},{note:"C#",octave:3,file:"samples/Chorus/chorus-male-c#3-PB-loop.wav"},{note:"C",octave:4,file:"samples/Chorus/chorus-male-c4-PB-loop.wav"},{note:"C#",octave:4,file:"samples/Chorus/chorus-male-c#4-PB-loop.wav"},{note:"D",octave:3,file:"samples/Chorus/chorus-male-d3-PB-loop.wav"},{note:"D",octave:4,file:"samples/Chorus/chorus-male-d4-PB-loop.wav"},{note:"D#",octave:3,file:"samples/Chorus/chorus-male-d#3-PB-loop.wav"},{note:"D#",octave:4,file:"samples/Chorus/chorus-male-d#4-PB-loop.wav"},{note:"E",octave:3,file:"samples/Chorus/chorus-male-e3-PB-loop.wav"},{note:"E",octave:4,file:"samples/Chorus/chorus-male-e4-PB-loop.wav"},{note:"F",octave:3,file:"samples/Chorus/chorus-male-f3-PB-loop.wav"},{note:"F",octave:4,file:"samples/Chorus/chorus-male-f4-PB-loop.wav"},{note:"F#",octave:3,file:"samples/Chorus/chorus-male-f#3-PB-loop.wav"},{note:"F#",octave:4,file:"samples/Chorus/chorus-male-f#4-PB-loop.wav"},{note:"G",octave:2,file:"samples/Chorus/chorus-male-g2-PB-loop.wav"},{note:"G",octave:3,file:"samples/Chorus/chorus-male-g3-PB-loop.wav"},{note:"G#",octave:2,file:"samples/Chorus/chorus-male-g#2-PB-loop.wav"},{note:"G#",octave:3,file:"samples/Chorus/chorus-male-g#3-PB-loop.wav"}],"Violin Tremulo":[{note:"A#",octave:3,file:"samples/Tremulo/3_Bb.wav"},{note:"G",octave:3,file:"samples/Tremulo/3_G.wav"},{note:"A#",octave:4,file:"samples/Tremulo/4_Bb.wav"},{note:"C#",octave:4,file:"samples/Tremulo/4_Db.wav"},{note:"G",octave:4,file:"samples/Tremulo/4_G.wav"},{note:"B",octave:5,file:"samples/Tremulo/5_B.wav"},{note:"C#",octave:5,file:"samples/Tremulo/5_Db.wav"},{note:"E",octave:5,file:"samples/Tremulo/5_E.wav"},{note:"G",octave:5,file:"samples/Tremulo/5_G.wav"}],"Cello Tremulo":[{note:"Ab",octave:2,file:"samples/CelloTremulo/2_Ab_t.wav"},{note:"Bb",octave:2,file:"samples/CelloTremulo/2_Bb_t-PB-loop.wav"},{note:"C",octave:2,file:"samples/CelloTremulo/2_C_t.wav"},{note:"D",octave:2,file:"samples/CelloTremulo/2_D_t.wav"},{note:"E",octave:2,file:"samples/CelloTremulo/2_E_t.wav"},{note:"Gb",octave:2,file:"samples/CelloTremulo/2_Gb_t.wav"},{note:"Ab",octave:3,file:"samples/CelloTremulo/3_Ab_t-PB-loop.wav"},{note:"Bb",octave:3,file:"samples/CelloTremulo/3_Bb_t.wav"},{note:"C",octave:3,file:"samples/CelloTremulo/3_C_t.wav"},{note:"D",octave:3,file:"samples/CelloTremulo/3_D_t.wav"},{note:"E",octave:3,file:"samples/CelloTremulo/3_E_t.wav"},{note:"Gb",octave:3,file:"samples/CelloTremulo/3_Gb_t-PB-loop.wav"},{note:"C",octave:4,file:"samples/CelloTremulo/4_C_t-PB-loop.wav"},{note:"D",octave:4,file:"samples/CelloTremulo/4_D_t-PB-loop.wav"},{note:"E",octave:4,file:"samples/CelloTremulo/4_E_t.wav"},{note:"Gb",octave:4,file:"samples/CelloTremulo/4_Gb_t.wav"}],"Bass solo":[{note:"A",octave:1,file:"samples/Bass solo/Bass.pizz.A1-PB.wav"},{note:"A",octave:2,file:"samples/Bass solo/Bass.pizz.A2-PB.wav"},{note:"A",octave:3,file:"samples/Bass solo/Bass.pizz.A3-PB.wav"},{note:"B",octave:1,file:"samples/Bass solo/Bass.pizz.B1-PB.wav"},{note:"B",octave:2,file:"samples/Bass solo/Bass.pizz.B2-PB.wav"},{note:"B",octave:3,file:"samples/Bass solo/Bass.pizz.B3-PB.wav"},{note:"Bb",octave:1,file:"samples/Bass solo/Bass.pizz.Bb1-PB.wav"},{note:"Bb",octave:2,file:"samples/Bass solo/Bass.pizz.Bb2-PB.wav"},{note:"C",octave:2,file:"samples/Bass solo/Bass.pizz.C2-PB.wav"},{note:"C",octave:3,file:"samples/Bass solo/Bass.pizz.C3-PB.wav"},{note:"D",octave:2,file:"samples/Bass solo/Bass.pizz.D2-PB.wav"},{note:"Db",octave:2,file:"samples/Bass solo/Bass.pizz.Db2-PB.wav"},{note:"Db",octave:3,file:"samples/Bass solo/Bass.pizz.Db3-PB.wav"},{note:"E",octave:2,file:"samples/Bass solo/Bass.pizz.E2-PB.wav"},{note:"Eb",octave:1,file:"samples/Bass solo/Bass.pizz.Eb1-PB.wav"},{note:"Eb",octave:2,file:"samples/Bass solo/Bass.pizz.Eb2-PB.wav"},{note:"F",octave:1,file:"samples/Bass solo/Bass.pizz.F1-PB.wav"},{note:"F",octave:2,file:"samples/Bass solo/Bass.pizz.F2-PB.wav"},{note:"F",octave:3,file:"samples/Bass solo/Bass.pizz.F3-PB.wav"},{note:"G",octave:2,file:"samples/Bass solo/Bass.pizz.G2-PB.wav"},{note:"Gb",octave:2,file:"samples/Bass solo/Bass.pizz.Gb2-PB.wav"},{note:"Gb",octave:3,file:"samples/Bass solo/Bass.pizz.Gb3-PB.wav"}],Xylophone:[{note:"Ab",octave:4,file:"samples/Xylophone/4_Ab-PB.wav"},{note:"Bb",octave:4,file:"samples/Xylophone/4_Bb-PB.wav"},{note:"Gb",octave:4,file:"samples/Xylophone/4_Gb-PB.wav"},{note:"Ab",octave:5,file:"samples/Xylophone/5_Ab-PB.wav"},{note:"Bb",octave:5,file:"samples/Xylophone/5_Bb-PB.wav"},{note:"C",octave:5,file:"samples/Xylophone/5_C-PB.wav"},{note:"D",octave:5,file:"samples/Xylophone/5_D-PB.wav"},{note:"E",octave:5,file:"samples/Xylophone/5_E-PB.wav"},{note:"Gb",octave:5,file:"samples/Xylophone/5_Gb-PB.wav"},{note:"Ab",octave:6,file:"samples/Xylophone/6_Ab-PB.wav"},{note:"Bb",octave:6,file:"samples/Xylophone/6_Bb-PB.wav"},{note:"C",octave:6,file:"samples/Xylophone/6_C-PB.wav"},{note:"D",octave:6,file:"samples/Xylophone/6_D-PB.wav"},{note:"E",octave:6,file:"samples/Xylophone/6_E-PB.wav"},{note:"Gb",octave:6,file:"samples/Xylophone/6_Gb-PB.wav"},{note:"Ab",octave:7,file:"samples/Xylophone/7_Ab-PB.wav"},{note:"Bb",octave:7,file:"samples/Xylophone/7_Bb-PB.wav"},{note:"C",octave:7,file:"samples/Xylophone/7_C-PB.wav"},{note:"D",octave:7,file:"samples/Xylophone/7_D-PB.wav"},{note:"E",octave:7,file:"samples/Xylophone/7_E-PB.wav"},{note:"Gb",octave:7,file:"samples/Xylophone/7_Gb-PB.wav"}]});c(this,"CONVOLVER_LIBRARY",{AirportTerminal:"samples/AirportTerminal.wav",RoomMedium:"samples/RoomMedium.wav"});c(this,"OCTAVE",["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]);c(this,"_audioContext",null);c(this,"_sampleCache",{});c(this,"_convolverCache",{});c(this,"_instrument","Grand Piano");c(this,"_convolver",null);c(this,"_gain",.7);c(this,"_fade",.7);this._audioContext=new AudioContext}fetchSample(o){return fetch(escape(o)).then(l=>l.arrayBuffer()).then(l=>this._audioContext.decodeAudioData(l))}noteValue(o,l){return l*12+this.OCTAVE.indexOf(o)}getNoteDistance(o,l,n,t){return this.noteValue(o,l)-this.noteValue(n,t)}getNearestSample(o,l,n){return o.slice().sort((s,a)=>{let i=Math.abs(this.getNoteDistance(l,n,s.note,s.octave)),r=Math.abs(this.getNoteDistance(l,n,a.note,a.octave));return i-r})[0]}flatToSharp(o){switch(o){case"Bb":return"A#";case"Db":return"C#";case"Eb":return"D#";case"Gb":return"F#";case"Ab":return"G#";default:return o}}async getSample(o,l){let[,n,t]=/^(\w[b#]?)(\d)$/.exec(l);t=parseInt(t,10),n=this.flatToSharp(n);let s=this.SAMPLE_LIBRARY[o],a=this.getNearestSample(s,n,t),i=this.getNoteDistance(n,t,a.note,a.octave);if(this._sampleCache[a.file])return{audioBuffer:this._sampleCache[a.file],distance:i};{const r=await this.fetchSample(a.file);return this._sampleCache[a.file]=r,{audioBuffer:r,distance:i}}}async playSample(o,l=0){await this.playSampleWithInstrument(this._instrument,o,this._convolver,l)}async playSampleWithInstrument(o,l,n=null,t=0){const{audioBuffer:s,distance:a}=await this.getSample(o,l);let i=Math.pow(2,a/12),r=this._audioContext.createBufferSource();r.buffer=s,r.playbackRate.value=i;const v=this._audioContext.createGain();v.gain.value=this._gain,v.gain.linearRampToValueAtTime(0,this._audioContext.currentTime+this._fade),n?r.connect(v).connect(n):r.connect(v).connect(this._audioContext.destination);const w=t>0?this._audioContext.currentTime+t:null;r.start(w)}async loadConvolver(o){const l=await this.fetchSample(o);let n=this._audioContext.createConvolver();return n.buffer=l,n.connect(this._audioContext.destination),console.log("Convolver loaded"),n}async setConvolver(o){const l=this.CONVOLVER_LIBRARY[o];if(l){if(!this._convolverCache[l]){const n=await this.loadConvolver(l);this._convolverCache[l]=n}console.log("setConvolver()",o,l),this._convolver=this._convolverCache[l]}else console.log("Deactivated convolver",o),this._convolver=null}setInstrument(o){this.SAMPLE_LIBRARY[o]?this._instrument=o:console.warn("Selected instrument not found:",o)}setGain(o){this._gain=o}setFade(o){this._fade=Number(Number(o).toFixed(2))}suspend(){this._audioContext.suspend()}resume(){this._audioContext.resume()}}const h={musicforairports:{title:"Brian Eno - Ambient 1: Music for Airports, 2/1 (1978)",notes:["F4","Ab4","C5","Db5","Eb5","F5","Ab5"]},gesdur_pentatonic:{title:"Ges-Dur-Pentatonik (schwarze Tasten)",notes:["F#2","G#2","A#2","C#3","D#3"]},cdur_pentatonic:{title:"C-Dur-Pentatonik",notes:["C3","D3","E3","G3","A3"]},amoll_pentatonic:{title:"A-Moll-Pentatonik",notes:["A2","C3","D3","E3","G3"]}},B={random:{title:"Random note from the pool"},static_melody:{title:"Static melody"},changing_melody_10:{title:"Changing melody, 10% chance"},changing_melody_30:{title:"Changing melody, 30% chance"},changing_melody_60:{title:"Changing melody, 60% chance"}};class z{constructor(o){this.soundGenerator=o,this.setNotepool("musicforairports"),this.setMelodygenerator("random"),this.currentNoteIndex=0}setNotepool(o){return h[o]?(this.currentNotepool=h[o].notes,this.currentMelody=[...h[o].notes],!0):!1}setMelodygenerator(o){return B[o]?(this.currentMelodygenerator=o,!0):!1}increaseNoteIndex(){this.currentNoteIndex++,this.currentNoteIndex>=this.currentMelody.length&&(this.currentNoteIndex=0)}playNextNote(){var o;if(this.currentMelodygenerator==="random")o=this.currentMelody[Math.floor(Math.random()*this.currentMelody.length)];else{o=this.currentMelody[this.currentNoteIndex];let n=!1;if(this.currentMelodygenerator==="changing_melody_10"&&Math.random()<.1&&(n=!0),this.currentMelodygenerator==="changing_melody_30"&&Math.random()<.3&&(n=!0),this.currentMelodygenerator==="changing_melody_60"&&Math.random()<.3&&(n=!0),n){var l=this.currentNotepool[Math.floor(Math.random()*this.currentNotepool.length)];this.currentMelody[this.currentNoteIndex]=l,console.log("Melody change:",l,this.currentMelody)}this.increaseNoteIndex()}o&&this.soundGenerator.playSample(o)}}console.log("%cPackage: sounds-of-decay, version: 1.0.0, date: 10/3/2022, 9:33:52 PM","background-color: #36a5b7; color: #FFF;");document.querySelector("#app").innerHTML=`
<div>
	<div id="header">
		<div class="header_segment">
			<div class="header_logo">Sounds of decay</div>
			<div>1.0.0</div>
		</div>
		<div class="header_segment">
			<div class="header_label">Note pool:</div>
			<div class="header_control"><select id="sel_notepool"></select></div>
		</div>
		<div class="header_segment">
			<div class="header_label">Melody generator:</div>
			<div class="header_control"><select id="sel_melodygenerator"></select></div>
		</div>
		<div class="header_segment">
			<div class="header_label">Intrument:</div>
			<div class="header_control">
				<select id="sel_instrument">
					<option value="Grand Piano">Grand Piano</option>
					<option value="Chorus female">Chorus female</option>
					<option value="Chorus male">Chorus male</option>
					<option value="Violin Tremulo">Violin Tremulo</option>
					<option value="Cello Tremulo">Cello Tremulo</option>
					<option value="Bass solo">Bass solo</option>
					<option value="Xylophone">Xylophone</option>
				</select>
			</div>
		</div>
		<div class="header_segment">
			<div class="header_label">Effects/convolver:</div>
			<div class="header_control">
				<select id="sel_convolver">
					<option value="">- None -</option>
					<option value="RoomMedium">Medium room</option>
					<option value="AirportTerminal">Airport Terminal</option>
				</select>
			</div>
		</div>
		<div class="header_segment">
			<div class="header_label">Gain:</div>
			<div class="header_control"><input type="range" id="rng_gain" min="0" max="2" value="0.7" step="0.01"></div>
		</div>
		<div class="header_segment">
			<div class="header_label">Fade time:</div>
			<div class="header_control"><input type="range" id="rng_fade" min="0" max="2" value="0.7" step="0.1"></div>
		</div>
	</div>

	<div id="p5-container"></div>

	<div id="footer">
		<div>More informations: <a href="https://github.com/toblum/sounds-of-decay" target="_blank">https://github.com/toblum/sounds-of-decay</a></div>
	</div>
</div>`;const m=document.getElementById("p5-container"),g=new p5(b,m),u=new P,f=new z(u);let p=new WebSocket("wss://decayrelay.tobiasblum.de");p.onopen=function(){console.log("[open] Connection established")};p.onclose=function(e){e.wasClean?console.log(`[close] Connection closed cleanly, code=${e.code} reason=${e.reason}`):console.log("[close] Connection died")};p.onerror=function(e){console.log(`[error] ${e.message}`)};(async()=>{let e=!1;const o=()=>{f.playNextNote()},l=()=>{e=!0};p.onmessage=function(a){e&&a.data==="Decay"&&o(),g.addDecayParticle()};const n=()=>{e=!1,g.pause()};for(const a in h){const i=h[a];var t=document.createElement("option");t.text=i.title,t.value=a,document.getElementById("sel_notepool").add(t)}document.getElementById("sel_notepool").addEventListener("change",a=>{console.log("Set notepool to:",a.target.value),f.setNotepool(a.target.value)});for(const a in B){const i=B[a];var s=document.createElement("option");s.text=i.title,s.value=a,document.getElementById("sel_melodygenerator").add(s)}document.getElementById("sel_melodygenerator").addEventListener("change",a=>{console.log("Set melody generator to:",a.target.value),f.setMelodygenerator(a.target.value)}),document.getElementById("sel_instrument").addEventListener("change",a=>{console.log("Set intrument to:",a.target.value),u.setInstrument(a.target.value)}),document.getElementById("sel_convolver").addEventListener("change",a=>{console.log("Set convolver to:",a.target.value),u.setConvolver(a.target.value)}),document.getElementById("rng_gain").addEventListener("input",a=>{console.log("Set gain to:",a.target.value),u.setGain(a.target.value)}),document.getElementById("rng_fade").addEventListener("input",a=>{console.log("Set fade to:",a.target.value),u.setFade(a.target.value)}),m.addEventListener("clickPlay",()=>{l()}),m.addEventListener("clickPause",()=>{n()}),m.addEventListener("clickCanvas",()=>{o()})})();
